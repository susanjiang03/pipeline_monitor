{% extends 'dash_base.html' %}

{% block title %} Dashboard{% endblock %}

{% block body_block %}
<style>
    

.tablehead{
     text-align:center;
}
.num{
    width:5%;
   text-align:center;
}

a{
 word-wrap:break-word;
}

.title_th{
    width: 20%;
    word-wrap:break-word;
    text-align:center;
}

.desc_th{
    width:20%;
    text-align:center;
}

.image{
    text-align:center;
}

img{
    max-width: 100%;
    height: auto;
    width: auto;
}
.maintext{
    width:30%;
    text-align:center;
}
</style>

    
    <!--table for each rssurl -->
<div id="wrapper">
     <!-- head -->
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12" style="background-color: lightgrey">
                <h1 class="page-header">RSS Feeds Data Population Analysis</h1>
            </div>
        </div>
        <br>
        
        <!-- 4 data boxes -->
        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-comments fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge"> {{summary.num_urls}}</div>
                                <div class="huge"> {{summary.pct_valid}}%</div>
                                <div>Number of RSS URL </div>
                            </div>
                        </div>
                    </div>
                    <a href="#">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-green">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-tasks fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">{{summary.total_articles}}</div>
                                <div class="huge"> {{summary.pct_articles}}</div>
                                <div class="huge"> </div>
                                <div>Number of Feeds</div>
                            </div>
                        </div>
                    </div>
                    <a href="#">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-yellow">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-shopping-cart fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">{{summary.total_images}}</div>
                                <div class="huge">{{summary.pct_total_images}}%</div>
                                <div>Number of Images </div>
                            </div>
                        </div>
                    </div>
                    <a href="#">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-red" >
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-support fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">{{summary.total_text}}</div>
                                <div class="huge">{{summary.pct_total_text}}%</div>
                                <div>Number of Texts</div>
                            </div>
                        </div>
                    </div>
                    <a href="#">
                        <div class="panel-footer">
                            <span class="pull-left">View Details</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            
            <!-- end of 4 box  -->
        <!-- table head  -->
       <div class="row" style="width:100%;" >
           <div class="col-lg-8" style="width:100%;">
               <div class="panel panel-default" style="width:100%;">
                   <!-- /.panel -->
                   <div class="panel panel-default" style="width:100%;">
                       <div class="panel-heading" style="width:100%;">
                           <i class="fa fa-bar-chart-o fa-fw"></i>
                           <b>&nbsp;&nbsp;Articles From  RSS URL : {{rssurl.rss_url}}  -- {{newspaper}} &nbsp;| &nbsp; {{category}} <b>
                       </div>
                       
                       
                       <!-- /.panel-heading -->
                       <div class="panel-body" style="width:100%;">
                           <div class="row" style="width:100%;">
                               <div class="col-lg-4" style="width:100%;">
                                   <div class="table-responsive" style="width:100%;">
      
      
      <!-- table -->
            <table border="5" style="text-align:center;">
                <tr class="tablehead">
                    <th class="num"> No. </th>
                    <th class="title_th"> Articles</th>
                    <th class="desc_th"> Description </th>
                    <th class="image"> Image</th>
                    <th class="maintext">Main Text</th>
                </tr>
                {% for each in articles %}
                <tr class="tablerow">
                    <div class="tablerow">
                        <td class="num"> {{each.article_id}} </td>
                        <td><a href="{{each.url}}">{{each.title}}</a></td>
                        <td>{{each.description}}</td>
                        {% if each.image %}
                        <td class="image"><a href="{{each.image}}"><img src="{{each.image}}"></a></td>
                        {% else %}
                        <td class="image">None</td>
                        {%endif%}
                        {% if each.image %}
                        <td class="maintext">{{each.text}}</td>
                        {% else %}
                        <td class="maintext">None</td>
                        {%endif%}
                    </div>
                </tr>
              {% endfor %}
            
            </table>
   
    </div>









{% endblock %}

